{"ast":null,"code":"import { of } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../firebase.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@ionic/angular\";\nfunction AdminPage_div_7_div_3_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const reserva_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(reserva_r4.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email: \", reserva_r4.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"N\\u00FAmero de Pessoas: \", reserva_r4.numeroPessoas, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Data: \", i0.ɵɵpipeBind2(10, 6, reserva_r4.data, \"dd/MM/yyyy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Hor\\u00E1rio: \", reserva_r4.horario, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Tipo de Mesa: \", reserva_r4.tipoMesa, \"\");\n  }\n}\nfunction AdminPage_div_7_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AdminPage_div_7_div_3_ion_item_1_Template, 15, 9, \"ion-item\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const horario_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.reservasAgrupadas[horario_r2]);\n  }\n}\nfunction AdminPage_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-button\", 6);\n    i0.ɵɵlistener(\"click\", function AdminPage_div_7_Template_ion_button_click_1_listener() {\n      const horario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleReservas(horario_r2));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AdminPage_div_7_div_3_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const horario_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", horario_r2, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.reservasVisiveis[horario_r2]);\n  }\n}\nexport class AdminPage {\n  constructor(firebaseService) {\n    this.firebaseService = firebaseService;\n    this.horarios = ['18:30', '19:00', '19:30', '20:00', '20:30', '21:00', '21:30'];\n    this.reservasAgrupadas = {};\n    this.reservasVisiveis = {};\n  }\n  ngOnInit() {\n    this.horarios.forEach(horario => {\n      this.reservasVisiveis[horario] = false; // Inicializa todos os horários como não visíveis\n    });\n    this.firebaseService.getReservas().pipe(map(actions => actions.map(a => {\n      const data = a.payload.doc.data();\n      const id = a.payload.doc.id;\n      return {\n        id,\n        ...data\n      };\n    })), catchError(error => {\n      console.error('Erro ao carregar reservas: ', error);\n      return of([]); // Retorna um array vazio em caso de erro\n    })).subscribe(reservas => {\n      this.horarios.forEach(horario => {\n        this.reservasAgrupadas[horario] = reservas.filter(reserva => reserva.horario === horario);\n      });\n    });\n  }\n  toggleReservas(horario) {\n    this.reservasVisiveis[horario] = !this.reservasVisiveis[horario];\n  }\n  static #_ = this.ɵfac = function AdminPage_Factory(t) {\n    return new (t || AdminPage)(i0.ɵɵdirectiveInject(i1.FirebaseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminPage,\n    selectors: [[\"app-admin\"]],\n    decls: 8,\n    vars: 1,\n    consts: [[\"color\", \"red\"], [2, \"text-align\", \"center\"], [\"href\", \"/\", 2, \"text-decoration\", \"none\", \"color\", \"inherit\"], [\"fullscreen\", \"\", 1, \"ion-padding\"], [\"lines\", \"full\"], [4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", 3, \"click\"], [4, \"ngIf\"]],\n    template: function AdminPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\", 1)(3, \"a\", 2);\n        i0.ɵɵtext(4, \" Restaurante \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(5, \"ion-content\", 3)(6, \"ion-list\", 4);\n        i0.ɵɵtemplate(7, AdminPage_div_7_Template, 4, 2, \"div\", 5);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.horarios);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.IonButton, i3.IonContent, i3.IonHeader, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonTitle, i3.IonToolbar, i2.DatePipe],\n    styles: [\"#container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n}\\n\\nion-toolbar[_ngcontent-%COMP%] {\\n  --background: #ff0000;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlld3MvYWRtaW4vYWRtaW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFFQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQUo7O0FBR0U7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFBSjs7QUFHRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBRko7O0FBS0U7RUFDRSxxQkFBQTtBQUZKOztBQUlFO0VBQ0UscUJBQUE7QUFESiIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIFxyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgfVxyXG4gIFxyXG4gICNjb250YWluZXIgc3Ryb25nIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gIH1cclxuICBcclxuICAjY29udGFpbmVyIHAge1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDIycHg7XHJcbiAgXHJcbiAgICBjb2xvcjogIzhjOGM4YztcclxuICBcclxuICAgIG1hcmdpbjogMDtcclxuICB9XHJcbiAgXHJcbiAgI2NvbnRhaW5lciBhIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcbiAgaW9uLXRvb2xiYXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZmYwMDAwO1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["of","map","catchError","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","reserva_r4","nome","ɵɵtextInterpolate1","email","numeroPessoas","ɵɵpipeBind2","data","horario","tipoMesa","ɵɵtemplate","AdminPage_div_7_div_3_ion_item_1_Template","ɵɵproperty","ctx_r2","reservasAgrupadas","horario_r2","ɵɵlistener","AdminPage_div_7_Template_ion_button_click_1_listener","ɵɵrestoreView","_r1","$implicit","ɵɵnextContext","ɵɵresetView","toggleReservas","AdminPage_div_7_div_3_Template","reservasVisiveis","AdminPage","constructor","firebaseService","horarios","ngOnInit","forEach","getReservas","pipe","actions","a","payload","doc","id","error","console","subscribe","reservas","filter","reserva","_","ɵɵdirectiveInject","i1","FirebaseService","_2","selectors","decls","vars","consts","template","AdminPage_Template","rf","ctx","AdminPage_div_7_Template"],"sources":["C:\\Users\\enzod\\integrador-07_07\\Integrador_reservas\\src\\app\\views\\admin\\admin.page.ts","C:\\Users\\enzod\\integrador-07_07\\Integrador_reservas\\src\\app\\views\\admin\\admin.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FirebaseService } from '../../firebase.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, catchError } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.page.html',\r\n  styleUrls: ['./admin.page.scss'],\r\n})\r\nexport class AdminPage implements OnInit {\r\n\r\n  horarios = ['18:30', '19:00', '19:30', '20:00', '20:30', '21:00', '21:30'];\r\n  reservasAgrupadas: { [key: string]: any[] } = {};\r\n  reservasVisiveis: { [key: string]: boolean } = {};\r\n\r\n  constructor(private firebaseService: FirebaseService) {}\r\n\r\n  ngOnInit() {\r\n    this.horarios.forEach(horario => {\r\n      this.reservasVisiveis[horario] = false; // Inicializa todos os horários como não visíveis\r\n    });\r\n\r\n    this.firebaseService.getReservas().pipe(\r\n      map(actions => actions.map(a => {\r\n        const data = a.payload.doc.data() as any;\r\n        const id = a.payload.doc.id;\r\n        return { id, ...data };\r\n      })),\r\n      catchError(error => {\r\n        console.error('Erro ao carregar reservas: ', error);\r\n        return of([]); // Retorna um array vazio em caso de erro\r\n      })\r\n    ).subscribe(reservas => {\r\n      this.horarios.forEach(horario => {\r\n        this.reservasAgrupadas[horario] = reservas.filter(reserva => reserva.horario === horario);\r\n      });\r\n    });\r\n  }\r\n\r\n  toggleReservas(horario: string) {\r\n    this.reservasVisiveis[horario] = !this.reservasVisiveis[horario];\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"red\">\r\n    <ion-title style=\"text-align: center;\">\r\n      <a href=\"/\" style=\"text-decoration: none; color: inherit;\">\r\n        Restaurante\r\n      </a>\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content fullscreen class=\"ion-padding\">\r\n  <ion-list lines=\"full\">\r\n    <div *ngFor=\"let horario of horarios\">\r\n      <ion-button expand=\"block\" (click)=\"toggleReservas(horario)\">\r\n        {{ horario }}\r\n      </ion-button>\r\n      <div *ngIf=\"reservasVisiveis[horario]\">\r\n        <ion-item *ngFor=\"let reserva of reservasAgrupadas[horario]\">\r\n          <ion-label>\r\n            <h2>{{ reserva.nome }}</h2>\r\n            <p>Email: {{ reserva.email }}</p>\r\n            <p>Número de Pessoas: {{ reserva.numeroPessoas }}</p>\r\n            <p>Data: {{ reserva.data | date: 'dd/MM/yyyy' }}</p>\r\n            <p>Horário: {{ reserva.horario }}</p>\r\n            <p>Tipo de Mesa: {{ reserva.tipoMesa }}</p>\r\n          </ion-label>\r\n        </ion-item>\r\n      </div>\r\n    </div>\r\n  </ion-list>\r\n</ion-content>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}