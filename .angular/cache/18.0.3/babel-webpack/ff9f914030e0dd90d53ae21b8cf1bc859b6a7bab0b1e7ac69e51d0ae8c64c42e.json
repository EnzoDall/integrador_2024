{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/enzod/integrador-07_07/Integrador_reservas/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../../firebase.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = () => [\"18:30\", \"19:00\", \"19:30\", \"20:00\", \"20:30\", \"21:00\", \"21:30\"];\nfunction ReservasPage_ion_select_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const time_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", time_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", time_r1, \" \");\n  }\n}\nexport class ReservasPage {\n  constructor(navCtrl, toastController, firebaseService // Adicione private firebaseService: FirebaseService\n  ) {\n    this.navCtrl = navCtrl;\n    this.toastController = toastController;\n    this.firebaseService = firebaseService;\n    this.reserva = {\n      nome: '',\n      email: '',\n      numeroPessoas: null,\n      data: '',\n      horario: '',\n      tipoMesa: ''\n    };\n    this.limiteMesas = {\n      aLaCarte: 20,\n      rodizio: 15\n    };\n    const today = new Date();\n    this.currentDate = today.toISOString().split('T')[0];\n  }\n  irParaLogin() {\n    this.navCtrl.navigateForward('/login');\n  }\n  submitReserva() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        data,\n        tipoMesa\n      } = _this.reserva;\n      try {\n        // Verifique o número de reservas existentes para a data e tipo de mesa\n        const reservasSnapshot = yield _this.firebaseService.getReservasPorDataETipo(data, tipoMesa).toPromise();\n        // Verifique se reservasSnapshot existe\n        if (!reservasSnapshot) {\n          _this.mostrarToast('Erro ao obter reservas existentes. Tente novamente.');\n          return;\n        }\n        const numeroReservasExistentes = reservasSnapshot.size;\n        // Verifique se o limite foi atingido\n        if (tipoMesa === 'aLaCarte' && numeroReservasExistentes >= _this.limiteMesas.aLaCarte || tipoMesa === 'rodizio' && numeroReservasExistentes >= _this.limiteMesas.rodizio) {\n          _this.mostrarToast(`Limite de mesas ${tipoMesa} atingido para a data ${data}.`);\n          return;\n        }\n        // Adicione a nova reserva se o limite não foi atingido\n        yield _this.firebaseService.addReserva(_this.reserva);\n        _this.mostrarToast('Reserva realizada com sucesso!');\n        _this.resetarFormulario(); // Resetar o formulário após a reserva\n      } catch (error) {\n        console.error('Erro ao adicionar reserva: ', error);\n        _this.mostrarToast('Erro ao realizar a reserva. Tente novamente.');\n      }\n    })();\n  }\n  mostrarToast(mensagem) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this2.toastController.create({\n        message: mensagem,\n        duration: 3000,\n        // 3 segundos\n        position: 'bottom'\n      });\n      toast.present();\n    })();\n  }\n  resetarFormulario() {\n    this.reserva = {\n      nome: '',\n      email: '',\n      numeroPessoas: null,\n      data: '',\n      horario: '',\n      tipoMesa: ''\n    };\n  }\n  static #_ = this.ɵfac = function ReservasPage_Factory(t) {\n    return new (t || ReservasPage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i1.ToastController), i0.ɵɵdirectiveInject(i2.FirebaseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReservasPage,\n    selectors: [[\"app-reservas\"]],\n    decls: 55,\n    vars: 9,\n    consts: [[2, \"text-align\", \"center\"], [\"href\", \"/\", 2, \"text-decoration\", \"none\", \"color\", \"inherit\"], [\"fullscreen\", \"\", 1, \"ion-padding\"], [1, \"reservation-form\", 3, \"submit\"], [\"lines\", \"full\"], [\"position\", \"floating\"], [\"type\", \"text\", \"required\", \"\", \"name\", \"nome\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"email\", \"required\", \"\", \"name\", \"email\", 3, \"ngModelChange\", \"ngModel\"], [\"interface\", \"popover\", \"placeholder\", \"Selecione\", \"name\", \"numeroPessoas\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"value\", \"6\"], [\"presentation\", \"date\", \"display-format\", \"DD/MM/YYYY\", \"picker-format\", \"DD MMM YYYY\", \"required\", \"\", \"name\", \"data\", 3, \"ngModelChange\", \"min\", \"ngModel\"], [\"interface\", \"popover\", \"placeholder\", \"Selecione\", \"name\", \"horario\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"interface\", \"popover\", \"placeholder\", \"Selecione\", \"name\", \"tipoMesa\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"a la carte\"], [\"value\", \"rodizio\"], [\"type\", \"submit\", \"expand\", \"block\", \"color\", \"danger\", 1, \"submit-button\", 2, \"margin-top\", \"20px\"], [3, \"value\"]],\n    template: function ReservasPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\", 0)(3, \"a\", 1);\n        i0.ɵɵtext(4, \" Restaurante \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(5, \"ion-content\", 2)(6, \"form\", 3);\n        i0.ɵɵlistener(\"submit\", function ReservasPage_Template_form_submit_6_listener() {\n          return ctx.submitReserva();\n        });\n        i0.ɵɵelementStart(7, \"ion-list\", 4)(8, \"ion-item-divider\")(9, \"ion-label\");\n        i0.ɵɵtext(10, \"Informa\\u00E7\\u00F5es Pessoais\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"ion-item\")(12, \"ion-label\", 5);\n        i0.ɵɵtext(13, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"ion-input\", 6);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_input_ngModelChange_14_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.nome, $event) || (ctx.reserva.nome = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"ion-item\")(16, \"ion-label\", 5);\n        i0.ɵɵtext(17, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-input\", 7);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_input_ngModelChange_18_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.email, $event) || (ctx.reserva.email = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"ion-item-divider\")(20, \"ion-label\");\n        i0.ɵɵtext(21, \"Detalhes da Reserva\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"ion-item\")(23, \"ion-label\");\n        i0.ɵɵtext(24, \"N\\u00FAmero de Pessoas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-select\", 8);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_select_ngModelChange_25_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.numeroPessoas, $event) || (ctx.reserva.numeroPessoas = $event);\n          return $event;\n        });\n        i0.ɵɵelementStart(26, \"ion-select-option\", 9);\n        i0.ɵɵtext(27, \"1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"ion-select-option\", 10);\n        i0.ɵɵtext(29, \"2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-select-option\", 11);\n        i0.ɵɵtext(31, \"3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"ion-select-option\", 12);\n        i0.ɵɵtext(33, \"4\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"ion-select-option\", 13);\n        i0.ɵɵtext(35, \"5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"ion-select-option\", 14);\n        i0.ɵɵtext(37, \"6\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(38, \"ion-item\")(39, \"ion-datetime\", 15);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_datetime_ngModelChange_39_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.data, $event) || (ctx.reserva.data = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"ion-item\")(41, \"ion-label\");\n        i0.ɵɵtext(42, \"Hor\\u00E1rio Preferencial\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"ion-select\", 16);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_select_ngModelChange_43_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.horario, $event) || (ctx.reserva.horario = $event);\n          return $event;\n        });\n        i0.ɵɵtemplate(44, ReservasPage_ion_select_option_44_Template, 2, 2, \"ion-select-option\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"ion-item\")(46, \"ion-label\");\n        i0.ɵɵtext(47, \"Tipo de Mesa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"ion-select\", 18);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ReservasPage_Template_ion_select_ngModelChange_48_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.reserva.tipoMesa, $event) || (ctx.reserva.tipoMesa = $event);\n          return $event;\n        });\n        i0.ɵɵelementStart(49, \"ion-select-option\", 19);\n        i0.ɵɵtext(50, \"\\u00C0 La Carte\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"ion-select-option\", 20);\n        i0.ɵɵtext(52, \"Rod\\u00EDzio\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(53, \"ion-button\", 21);\n        i0.ɵɵtext(54, \" Reservar \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.nome);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.email);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.numeroPessoas);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"min\", ctx.currentDate);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.data);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.horario);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(8, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reserva.tipoMesa);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i1.IonButton, i1.IonContent, i1.IonDatetime, i1.IonHeader, i1.IonInput, i1.IonItem, i1.IonItemDivider, i1.IonLabel, i1.IonList, i1.IonSelect, i1.IonSelectOption, i1.IonTitle, i1.IonToolbar, i1.SelectValueAccessor, i1.TextValueAccessor],\n    styles: [\".dark-background[_ngcontent-%COMP%] {\\n  --background: #000;\\n  color: #fff;\\n}\\n\\nion-header[_ngcontent-%COMP%] {\\n  --background: #ff0000;\\n}\\n\\n.submit-button[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n#container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n}\\n\\nion-header[_ngcontent-%COMP%] {\\n  --background: #ff0000;\\n}\\n\\n\\n\\n.reservation-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column; \\n\\n  align-items: center; \\n\\n  width: 80%; \\n\\n  margin: auto; \\n\\n}\\n\\n.reservation-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n.reservation-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlld3MvcmVzZXJ2YXMvcmVzZXJ2YXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUU7RUFDRSxxQkFBQTtBQUNKOztBQUVFO0VBQ0UsaUJBQUE7QUFDSjs7QUFDRTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUVFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQURKOztBQUlFO0VBQ0UscUJBQUE7QUFESjs7QUFHRTtFQUNFLHFCQUFBO0FBQUo7O0FBRUEsa0JBQUE7QUFHQTtFQUNFLGFBQUE7RUFDQSxzQkFBQSxFQUFBLGdDQUFBO0VBQ0EsbUJBQUEsRUFBQSw4QkFBQTtFQUNBLFVBQUEsRUFBQSwyQkFBQTtFQUNBLFlBQUEsRUFBQSxxQ0FBQTtBQURGOztBQUtFO0VBQ0UsbUJBQUE7QUFGSjtBQUtFO0VBQ0UsZ0JBQUE7QUFISiIsInNvdXJjZXNDb250ZW50IjpbIi5kYXJrLWJhY2tncm91bmQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjMDAwO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1oZWFkZXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZmYwMDAwO1xyXG4gIH1cclxuICBcclxuICAuc3VibWl0LWJ1dHRvbiB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcbiAgI2NvbnRhaW5lciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgXHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICB9XHJcbiAgXHJcbiAgI2NvbnRhaW5lciBzdHJvbmcge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbiAgfVxyXG4gIFxyXG4gICNjb250YWluZXIgcCB7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxuICBcclxuICAgIGNvbG9yOiAjOGM4YzhjO1xyXG4gIFxyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuICBcclxuICAjY29udGFpbmVyIGEge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIH1cclxuICBpb24taGVhZGVyIHtcclxuICAgIC0tYmFja2dyb3VuZDogI2ZmMDAwMDtcclxuICB9XHJcbi8qIEZvcm0gU3BlY2lmaWMgKi9cclxuXHJcblxyXG4ucmVzZXJ2YXRpb24tZm9ybSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiBBcnJhbmdlIGVsZW1lbnRzIHZlcnRpY2FsbHkgKi9cclxuICBhbGlnbi1pdGVtczogY2VudGVyOyAgIC8qIENlbnRlciBpdGVtcyBob3Jpem9udGFsbHkgKi9cclxuICB3aWR0aDogODAlOyAgICAgICAgICAgLyogQWRqdXN0IHdpZHRoIGFzIG5lZWRlZCAqL1xyXG4gIG1hcmdpbjogYXV0bzsgICAgICAgICAvKiBDZW50ZXIgdGhlIGZvcm0gY29udGFpbmVyIGl0c2VsZiAqL1xyXG59XHJcblxyXG4ucmVzZXJ2YXRpb24tZm9ybSB7XHJcbiAgaW9uLWl0ZW0ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcblxyXG4gIC5zdWJtaXQtYnV0dG9uIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","time_r1","ɵɵadvance","ɵɵtextInterpolate1","ReservasPage","constructor","navCtrl","toastController","firebaseService","reserva","nome","email","numeroPessoas","data","horario","tipoMesa","limiteMesas","aLaCarte","rodizio","today","Date","currentDate","toISOString","split","irParaLogin","navigateForward","submitReserva","_this","_asyncToGenerator","reservasSnapshot","getReservasPorDataETipo","toPromise","mostrarToast","numeroReservasExistentes","size","addReserva","resetarFormulario","error","console","mensagem","_this2","toast","create","message","duration","position","present","_","ɵɵdirectiveInject","i1","NavController","ToastController","i2","FirebaseService","_2","selectors","decls","vars","consts","template","ReservasPage_Template","rf","ctx","ɵɵlistener","ReservasPage_Template_form_submit_6_listener","ɵɵtwoWayListener","ReservasPage_Template_ion_input_ngModelChange_14_listener","$event","ɵɵtwoWayBindingSet","ReservasPage_Template_ion_input_ngModelChange_18_listener","ReservasPage_Template_ion_select_ngModelChange_25_listener","ReservasPage_Template_ion_datetime_ngModelChange_39_listener","ReservasPage_Template_ion_select_ngModelChange_43_listener","ɵɵtemplate","ReservasPage_ion_select_option_44_Template","ReservasPage_Template_ion_select_ngModelChange_48_listener","ɵɵtwoWayProperty","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\enzod\\integrador-07_07\\Integrador_reservas\\src\\app\\views\\reservas\\reservas.page.ts","C:\\Users\\enzod\\integrador-07_07\\Integrador_reservas\\src\\app\\views\\reservas\\reservas.page.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { FirebaseService } from '../../firebase.service';  // Adicione esta linha\r\n\r\n@Component({\r\n  selector: 'app-reservas',\r\n  templateUrl: './reservas.page.html',\r\n  styleUrls: ['./reservas.page.scss'],\r\n})\r\nexport class ReservasPage {\r\n\r\n  currentDate: string;\r\n  reserva: any = {\r\n    nome: '',\r\n    email: '',\r\n    numeroPessoas: null,\r\n    data: '',\r\n    horario: '',\r\n    tipoMesa: ''\r\n  };\r\n\r\n  limiteMesas = {\r\n    aLaCarte: 20,\r\n    rodizio: 15\r\n  };\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private toastController: ToastController,\r\n    private firebaseService: FirebaseService // Adicione private firebaseService: FirebaseService\r\n  ) {\r\n    const today = new Date();\r\n    this.currentDate = today.toISOString().split('T')[0];\r\n  }\r\n\r\n  irParaLogin() {\r\n    this.navCtrl.navigateForward('/login');\r\n  }\r\n\r\n  async submitReserva() {\r\n    const { data, tipoMesa } = this.reserva;\r\n\r\n    try {\r\n      // Verifique o número de reservas existentes para a data e tipo de mesa\r\n      const reservasSnapshot = await this.firebaseService.getReservasPorDataETipo(data, tipoMesa).toPromise();\r\n\r\n      // Verifique se reservasSnapshot existe\r\n      if (!reservasSnapshot) {\r\n        this.mostrarToast('Erro ao obter reservas existentes. Tente novamente.');\r\n        return;\r\n      }\r\n\r\n      const numeroReservasExistentes = reservasSnapshot.size;\r\n\r\n      // Verifique se o limite foi atingido\r\n      if ((tipoMesa === 'aLaCarte' && numeroReservasExistentes >= this.limiteMesas.aLaCarte) ||\r\n          (tipoMesa === 'rodizio' && numeroReservasExistentes >= this.limiteMesas.rodizio)) {\r\n        this.mostrarToast(`Limite de mesas ${tipoMesa} atingido para a data ${data}.`);\r\n        return;\r\n      }\r\n\r\n      // Adicione a nova reserva se o limite não foi atingido\r\n      await this.firebaseService.addReserva(this.reserva);\r\n      this.mostrarToast('Reserva realizada com sucesso!');\r\n      this.resetarFormulario(); // Resetar o formulário após a reserva\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao adicionar reserva: ', error);\r\n      this.mostrarToast('Erro ao realizar a reserva. Tente novamente.');\r\n    }\r\n  }\r\n\r\n  async mostrarToast(mensagem: string) {\r\n    const toast = await this.toastController.create({\r\n      message: mensagem,\r\n      duration: 3000, // 3 segundos\r\n      position: 'bottom'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  resetarFormulario() {\r\n    this.reserva = {\r\n      nome: '',\r\n      email: '',\r\n      numeroPessoas: null,\r\n      data: '',\r\n      horario: '',\r\n      tipoMesa: ''\r\n    };\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title style=\"text-align: center;\">\r\n      <a href=\"/\" style=\"text-decoration: none; color: inherit;\">\r\n        Restaurante\r\n      </a>\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content fullscreen class=\"ion-padding\"> \r\n  <form (submit)=\"submitReserva()\" class=\"reservation-form\"> \r\n    <ion-list lines=\"full\"> \r\n      <ion-item-divider>\r\n        <ion-label>Informações Pessoais</ion-label>\r\n      </ion-item-divider>\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Nome</ion-label>\r\n        <ion-input type=\"text\" required [(ngModel)]=\"reserva.nome\" name=\"nome\"></ion-input>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Email</ion-label>\r\n        <ion-input type=\"email\" required [(ngModel)]=\"reserva.email\" name=\"email\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item-divider>\r\n        <ion-label>Detalhes da Reserva</ion-label>\r\n      </ion-item-divider>\r\n      <ion-item>\r\n        <ion-label>Número de Pessoas</ion-label>\r\n        <ion-select interface=\"popover\" placeholder=\"Selecione\" [(ngModel)]=\"reserva.numeroPessoas\" name=\"numeroPessoas\">\r\n          <ion-select-option value=\"1\">1</ion-select-option>\r\n          <ion-select-option value=\"2\">2</ion-select-option>\r\n          <ion-select-option value=\"3\">3</ion-select-option>\r\n          <ion-select-option value=\"4\">4</ion-select-option>\r\n          <ion-select-option value=\"5\">5</ion-select-option>\r\n          <ion-select-option value=\"6\">6</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-datetime \r\n          presentation=\"date\" \r\n          display-format=\"DD/MM/YYYY\" \r\n          picker-format=\"DD MMM YYYY\" \r\n          [min]=\"currentDate\" \r\n          required \r\n          [(ngModel)]=\"reserva.data\" \r\n          name=\"data\">\r\n        </ion-datetime>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-label>Horário Preferencial</ion-label>\r\n        <ion-select interface=\"popover\" placeholder=\"Selecione\" [(ngModel)]=\"reserva.horario\" name=\"horario\">\r\n          <ion-select-option *ngFor=\"let time of ['18:30', '19:00', '19:30', '20:00', '20:30', '21:00', '21:30']\" [value]=\"time\">\r\n            {{ time }}\r\n          </ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-label>Tipo de Mesa</ion-label>\r\n        <ion-select interface=\"popover\" placeholder=\"Selecione\" [(ngModel)]=\"reserva.tipoMesa\" name=\"tipoMesa\">\r\n          <ion-select-option value=\"a la carte\">À La Carte</ion-select-option>\r\n          <ion-select-option value=\"rodizio\">Rodízio</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n    </ion-list>\r\n    <ion-button type=\"submit\" expand=\"block\" class=\"submit-button\" color=\"danger\" style=\"margin-top: 20px;\">\r\n      Reservar\r\n    </ion-button>\r\n  </form>\r\n</ion-content>\r\n\r\n        \r\n          "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}